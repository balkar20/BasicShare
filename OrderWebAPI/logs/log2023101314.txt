2023-10-13 14:00:16.944 +03:00 [DBG] Connection id "0HMUBRDALKGKV" completed keep alive response.
2023-10-13 14:00:16.959 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:63245/api/orders application/json 213 - 500 - application/json 37876.9343ms
2023-10-13 14:00:16.965 +03:00 [DBG] Connection id "0HMUBRDALKGKV" received FIN.
2023-10-13 14:00:16.969 +03:00 [DBG] Connection id "0HMUBRDALKGKV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:00:16.970 +03:00 [DBG] Connection id "0HMUBRDALKGKV" disconnecting.
2023-10-13 14:00:16.977 +03:00 [DBG] Connection id "0HMUBRDALKGKV" stopped.
2023-10-13 14:01:57.273 +03:00 [DBG] Connection id "0HMUBRDALKGL0" accepted.
2023-10-13 14:01:57.274 +03:00 [DBG] Connection id "0HMUBRDALKGL0" started.
2023-10-13 14:01:57.278 +03:00 [DBG] Connection 0HMUBRDALKGL0 established using the following protocol: "Tls13"
2023-10-13 14:01:57.279 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:63245/api/orders application/json 213
2023-10-13 14:01:57.279 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:01:57.279 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2023-10-13 14:01:57.279 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/orders'
2023-10-13 14:01:57.279 +03:00 [INF] Executing endpoint 'HTTP: POST api/orders'
2023-10-13 14:01:57.279 +03:00 [DBG] Connection id "0HMUBRDALKGL0", Request id "0HMUBRDALKGL0:00000001": started reading request body.
2023-10-13 14:01:57.279 +03:00 [DBG] Connection id "0HMUBRDALKGL0", Request id "0HMUBRDALKGL0:00000001": done reading request body.
2023-10-13 14:02:10.032 +03:00 [INF] Executed endpoint 'HTTP: POST api/orders'
2023-10-13 14:02:10.032 +03:00 [ERR] HTTP POST /api/orders responded 500 in 12752.9033 ms
MongoDB.Driver.MongoAuthenticationException: Unable to authenticate using sasl protocol mechanism SCRAM-SHA-1.
 ---> MongoDB.Driver.MongoCommandException: Command saslStart failed: Authentication failed..
   at MongoDB.Driver.Core.WireProtocol.CommandUsingQueryMessageWireProtocol`1.ProcessReply(ConnectionId connectionId, ReplyMessage`1 reply)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingQueryMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.SaslAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MongoDB.Driver.Core.Authentication.SaslAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.DefaultAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.AuthenticationHelper.AuthenticateAsync(IConnection connection, ConnectionDescription description, IReadOnlyList`1 authenticators, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.ConnectionInitializer.AuthenticateAsync(IConnection connection, ConnectionInitializerContext connectionInitializerContext, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.OpenAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.ConnectionCreator.CreateOpenedInternalAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.ConnectionCreator.CreateOpenedOrReuseAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.AcquireConnectionHelper.AcquireConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.AcquireConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.GetChannelAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteContext.InitializeAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteContext.CreateAsync(IWriteBinding binding, Boolean retryRequested, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at MongoDataServices.DataCollectionService`1.CreateAsync(TData newTData) in C:\My\BasicShare\MongoDataServices\DataCollectionService.cs:line 38
   at Infrastructure.Services.AggregateStorage.SaveEvents(Guid aggregateId, IEnumerable`1 events, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateStorage.cs:line 54
   at Infrastructure.Services.AggregateRepository`1.Save(AggregateRoot aggregate, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateRepository.cs:line 23
   at Mod.Order.Services.OrderWriteService.CreateOrder(OrderModel order) in C:\My\BasicShare\Mod.Order.Services\OrderWriteService.cs:line 37
   at Mod.Order.Base.Handlers.CreateOrderCommandHandler.Handle(CreateOrderCommand request, CancellationToken cancellationToken) in C:\My\BasicShare\Mod.Order.Base\Handlers\CreateOrderCommandHandler.cs:line 30
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|112_0[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass90_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-13 14:05:36.825 +03:00 [DBG] Hosting starting
2023-10-13 14:05:36.984 +03:00 [DBG] Starting bus instances: IBus
2023-10-13 14:05:36.988 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2023-10-13 14:05:37.068 +03:00 [DBG] Connect: guest@localhost:5672/
2023-10-13 14:05:37.094 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2023-10-13 14:05:37.134 +03:00 [INF] Now listening on: https://localhost:63245
2023-10-13 14:05:37.134 +03:00 [INF] Now listening on: http://localhost:63244
2023-10-13 14:05:37.134 +03:00 [DBG] Loaded hosting startup assembly OrderWebAPI
2023-10-13 14:05:37.134 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-13 14:05:37.135 +03:00 [INF] Hosting environment: Development
2023-10-13 14:05:37.135 +03:00 [INF] Content root path: C:\My\BasicShare\OrderWebAPI
2023-10-13 14:05:37.135 +03:00 [DBG] Hosting started
2023-10-13 14:05:37.177 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54726)
2023-10-13 14:05:37.202 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/VLADBALKAROV_OrderWebAPI_bus_f11oyygp5nqn4siubdphzznwbs?temporary=true"
2023-10-13 14:05:37.206 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2023-10-13 14:05:37.596 +03:00 [DBG] Connection id "0HMUBRHA9SP5A" received FIN.
2023-10-13 14:05:37.601 +03:00 [DBG] Connection id "0HMUBRHA9SP5A" accepted.
2023-10-13 14:05:37.602 +03:00 [DBG] Connection id "0HMUBRHA9SP5A" started.
2023-10-13 14:05:37.631 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:05:37.675 +03:00 [DBG] Connection id "0HMUBRHA9SP5A" stopped.
2023-10-13 14:05:37.681 +03:00 [DBG] Connection id "0HMUBRHA9SP5A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:05:37.714 +03:00 [DBG] Connection id "0HMUBRHA9SP5B" accepted.
2023-10-13 14:05:37.714 +03:00 [DBG] Connection id "0HMUBRHA9SP5B" started.
2023-10-13 14:05:37.756 +03:00 [DBG] Connection id "0HMUBRHA9SP5B" received FIN.
2023-10-13 14:05:37.756 +03:00 [DBG] Connection id "0HMUBRHA9SP5C" accepted.
2023-10-13 14:05:37.757 +03:00 [DBG] Connection id "0HMUBRHA9SP5C" started.
2023-10-13 14:05:37.760 +03:00 [DBG] Connection id "0HMUBRHA9SP5C" received FIN.
2023-10-13 14:05:37.761 +03:00 [DBG] Connection id "0HMUBRHA9SP5D" accepted.
2023-10-13 14:05:37.762 +03:00 [DBG] Connection id "0HMUBRHA9SP5D" started.
2023-10-13 14:05:37.771 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:05:37.771 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:05:37.772 +03:00 [DBG] Connection id "0HMUBRHA9SP5B" stopped.
2023-10-13 14:05:37.772 +03:00 [DBG] Connection id "0HMUBRHA9SP5C" stopped.
2023-10-13 14:05:37.772 +03:00 [DBG] Connection id "0HMUBRHA9SP5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:05:37.772 +03:00 [DBG] Connection id "0HMUBRHA9SP5B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:05:37.776 +03:00 [DBG] Connection 0HMUBRHA9SP5D established using the following protocol: "Tls13"
2023-10-13 14:05:37.797 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" sending "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:05:37.800 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:05:37.800 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" received "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:05:37.801 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:05:37.801 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:05:37.801 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" received "HEADERS" frame for stream ID 1 with length 443 and flags "END_STREAM, END_HEADERS, PRIORITY".
2023-10-13 14:05:37.814 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:05:37.835 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63245/ - -
2023-10-13 14:05:37.836 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-13 14:05:37.837 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:05:37.933 +03:00 [DBG] No candidates found for the request path '/'
2023-10-13 14:05:37.934 +03:00 [DBG] Request did not match any endpoints
2023-10-13 14:05:37.936 +03:00 [INF] HTTP GET / responded 404 in 96.2244 ms
2023-10-13 14:05:37.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63245/ - - - 404 0 - 103.2351ms
2023-10-13 14:05:37.938 +03:00 [VRB] Connection id "0HMUBRHA9SP5D" sending "HEADERS" frame for stream ID 1 with length 45 and flags "END_STREAM, END_HEADERS".
2023-10-13 14:05:58.922 +03:00 [DBG] Connection id "0HMUBRHA9SP5E" accepted.
2023-10-13 14:05:58.922 +03:00 [DBG] Connection id "0HMUBRHA9SP5E" started.
2023-10-13 14:05:58.928 +03:00 [DBG] Connection 0HMUBRHA9SP5E established using the following protocol: "Tls13"
2023-10-13 14:05:58.935 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:63245/api/orders application/json 213
2023-10-13 14:05:58.935 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:05:58.938 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2023-10-13 14:05:58.938 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/orders'
2023-10-13 14:05:58.947 +03:00 [INF] Executing endpoint 'HTTP: POST api/orders'
2023-10-13 14:05:58.972 +03:00 [DBG] Connection id "0HMUBRHA9SP5E", Request id "0HMUBRHA9SP5E:00000001": started reading request body.
2023-10-13 14:05:58.973 +03:00 [DBG] Connection id "0HMUBRHA9SP5E", Request id "0HMUBRHA9SP5E:00000001": done reading request body.
2023-10-13 14:19:35.532 +03:00 [DBG] Hosting starting
2023-10-13 14:19:35.692 +03:00 [DBG] Starting bus instances: IBus
2023-10-13 14:19:35.696 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2023-10-13 14:19:35.779 +03:00 [DBG] Connect: guest@localhost:5672/
2023-10-13 14:19:35.806 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2023-10-13 14:19:35.854 +03:00 [INF] Now listening on: https://localhost:63245
2023-10-13 14:19:35.855 +03:00 [INF] Now listening on: http://localhost:63244
2023-10-13 14:19:35.855 +03:00 [DBG] Loaded hosting startup assembly OrderWebAPI
2023-10-13 14:19:35.855 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-13 14:19:35.855 +03:00 [INF] Hosting environment: Development
2023-10-13 14:19:35.855 +03:00 [INF] Content root path: C:\My\BasicShare\OrderWebAPI
2023-10-13 14:19:35.855 +03:00 [DBG] Hosting started
2023-10-13 14:19:35.888 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 55870)
2023-10-13 14:19:35.918 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/VLADBALKAROV_OrderWebAPI_bus_ybpyyygp5nqn4pqabdphzz1ey6?temporary=true"
2023-10-13 14:19:35.922 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2023-10-13 14:19:36.212 +03:00 [DBG] Connection id "0HMUBRP47I12H" received FIN.
2023-10-13 14:19:36.219 +03:00 [DBG] Connection id "0HMUBRP47I12H" accepted.
2023-10-13 14:19:36.220 +03:00 [DBG] Connection id "0HMUBRP47I12H" started.
2023-10-13 14:19:36.241 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:19:36.287 +03:00 [DBG] Connection id "0HMUBRP47I12H" stopped.
2023-10-13 14:19:36.292 +03:00 [DBG] Connection id "0HMUBRP47I12H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:19:36.340 +03:00 [DBG] Connection id "0HMUBRP47I12I" accepted.
2023-10-13 14:19:36.340 +03:00 [DBG] Connection id "0HMUBRP47I12I" started.
2023-10-13 14:19:36.391 +03:00 [DBG] Connection id "0HMUBRP47I12I" received FIN.
2023-10-13 14:19:36.392 +03:00 [DBG] Connection id "0HMUBRP47I12J" accepted.
2023-10-13 14:19:36.392 +03:00 [DBG] Connection id "0HMUBRP47I12J" started.
2023-10-13 14:19:36.397 +03:00 [DBG] Connection id "0HMUBRP47I12J" received FIN.
2023-10-13 14:19:36.399 +03:00 [DBG] Connection id "0HMUBRP47I12K" accepted.
2023-10-13 14:19:36.399 +03:00 [DBG] Connection id "0HMUBRP47I12K" started.
2023-10-13 14:19:36.407 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:19:36.407 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:19:36.408 +03:00 [DBG] Connection id "0HMUBRP47I12J" stopped.
2023-10-13 14:19:36.408 +03:00 [DBG] Connection id "0HMUBRP47I12I" stopped.
2023-10-13 14:19:36.409 +03:00 [DBG] Connection id "0HMUBRP47I12J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:19:36.409 +03:00 [DBG] Connection id "0HMUBRP47I12I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:19:36.415 +03:00 [DBG] Connection 0HMUBRP47I12K established using the following protocol: "Tls13"
2023-10-13 14:19:36.447 +03:00 [VRB] Connection id "0HMUBRP47I12K" sending "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:19:36.450 +03:00 [VRB] Connection id "0HMUBRP47I12K" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:19:36.451 +03:00 [VRB] Connection id "0HMUBRP47I12K" received "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:19:36.451 +03:00 [VRB] Connection id "0HMUBRP47I12K" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:19:36.452 +03:00 [VRB] Connection id "0HMUBRP47I12K" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:19:36.452 +03:00 [VRB] Connection id "0HMUBRP47I12K" received "HEADERS" frame for stream ID 1 with length 443 and flags "END_STREAM, END_HEADERS, PRIORITY".
2023-10-13 14:19:36.464 +03:00 [VRB] Connection id "0HMUBRP47I12K" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:19:36.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63245/ - -
2023-10-13 14:19:36.492 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-13 14:19:36.492 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:19:36.606 +03:00 [DBG] No candidates found for the request path '/'
2023-10-13 14:19:36.606 +03:00 [DBG] Request did not match any endpoints
2023-10-13 14:19:36.609 +03:00 [INF] HTTP GET / responded 404 in 112.3135 ms
2023-10-13 14:19:36.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63245/ - - - 404 0 - 122.0241ms
2023-10-13 14:19:36.612 +03:00 [VRB] Connection id "0HMUBRP47I12K" sending "HEADERS" frame for stream ID 1 with length 45 and flags "END_STREAM, END_HEADERS".
2023-10-13 14:19:53.466 +03:00 [DBG] Connection id "0HMUBRP47I12L" accepted.
2023-10-13 14:19:53.466 +03:00 [DBG] Connection id "0HMUBRP47I12L" started.
2023-10-13 14:19:53.478 +03:00 [DBG] Connection 0HMUBRP47I12L established using the following protocol: "Tls13"
2023-10-13 14:19:53.496 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:63245/api/orders application/json 213
2023-10-13 14:19:53.497 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:19:53.505 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2023-10-13 14:19:53.506 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/orders'
2023-10-13 14:19:53.522 +03:00 [INF] Executing endpoint 'HTTP: POST api/orders'
2023-10-13 14:19:53.611 +03:00 [DBG] Connection id "0HMUBRP47I12L", Request id "0HMUBRP47I12L:00000001": started reading request body.
2023-10-13 14:19:53.611 +03:00 [DBG] Connection id "0HMUBRP47I12L", Request id "0HMUBRP47I12L:00000001": done reading request body.
2023-10-13 14:20:00.889 +03:00 [INF] Executed endpoint 'HTTP: POST api/orders'
2023-10-13 14:20:00.889 +03:00 [ERR] HTTP POST /api/orders responded 500 in 7392.4196 ms
MongoDB.Driver.MongoCommandException: Command insert failed: command insert requires authentication.
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ProcessResponse(ConnectionId connectionId, CommandMessage responseMessage)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at MongoDataServices.DataCollectionService`1.CreateAsync(TData newTData) in C:\My\BasicShare\MongoDataServices\DataCollectionService.cs:line 38
   at Infrastructure.Services.AggregateStorage.SaveEvents(Guid aggregateId, IEnumerable`1 events, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateStorage.cs:line 54
   at Infrastructure.Services.AggregateRepository`1.Save(AggregateRoot aggregate, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateRepository.cs:line 23
   at Mod.Order.Services.OrderWriteService.CreateOrder(OrderModel order) in C:\My\BasicShare\Mod.Order.Services\OrderWriteService.cs:line 37
   at Mod.Order.Base.Handlers.CreateOrderCommandHandler.Handle(CreateOrderCommand request, CancellationToken cancellationToken) in C:\My\BasicShare\Mod.Order.Base\Handlers\CreateOrderCommandHandler.cs:line 30
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|112_0[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass90_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-10-13 14:25:55.992 +03:00 [DBG] Hosting starting
2023-10-13 14:25:56.161 +03:00 [DBG] Starting bus instances: IBus
2023-10-13 14:25:56.165 +03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2023-10-13 14:25:56.248 +03:00 [DBG] Connect: guest@localhost:5672/
2023-10-13 14:25:56.269 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2023-10-13 14:25:56.317 +03:00 [INF] Now listening on: https://localhost:63245
2023-10-13 14:25:56.317 +03:00 [INF] Now listening on: http://localhost:63244
2023-10-13 14:25:56.317 +03:00 [DBG] Loaded hosting startup assembly OrderWebAPI
2023-10-13 14:25:56.317 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-13 14:25:56.317 +03:00 [INF] Hosting environment: Development
2023-10-13 14:25:56.318 +03:00 [INF] Content root path: C:\My\BasicShare\OrderWebAPI
2023-10-13 14:25:56.318 +03:00 [DBG] Hosting started
2023-10-13 14:25:56.361 +03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 57400)
2023-10-13 14:25:56.386 +03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/VLADBALKAROV_OrderWebAPI_bus_e1moyygp5nqn48krbdphzz3k8r?temporary=true"
2023-10-13 14:25:56.390 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2023-10-13 14:25:56.646 +03:00 [DBG] Connection id "0HMUBRSLJL8TS" received FIN.
2023-10-13 14:25:56.652 +03:00 [DBG] Connection id "0HMUBRSLJL8TS" accepted.
2023-10-13 14:25:56.653 +03:00 [DBG] Connection id "0HMUBRSLJL8TS" started.
2023-10-13 14:25:56.678 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:25:56.738 +03:00 [DBG] Connection id "0HMUBRSLJL8TS" stopped.
2023-10-13 14:25:56.744 +03:00 [DBG] Connection id "0HMUBRSLJL8TS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:25:56.773 +03:00 [DBG] Connection id "0HMUBRSLJL8TT" accepted.
2023-10-13 14:25:56.773 +03:00 [DBG] Connection id "0HMUBRSLJL8TT" started.
2023-10-13 14:25:56.831 +03:00 [DBG] Connection id "0HMUBRSLJL8TT" received FIN.
2023-10-13 14:25:56.833 +03:00 [DBG] Connection id "0HMUBRSLJL8TU" accepted.
2023-10-13 14:25:56.833 +03:00 [DBG] Connection id "0HMUBRSLJL8TU" started.
2023-10-13 14:25:56.845 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-13 14:25:56.846 +03:00 [DBG] Connection id "0HMUBRSLJL8TT" stopped.
2023-10-13 14:25:56.847 +03:00 [DBG] Connection id "0HMUBRSLJL8TT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-13 14:25:56.856 +03:00 [DBG] Connection 0HMUBRSLJL8TU established using the following protocol: "Tls13"
2023-10-13 14:25:56.884 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" sending "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:25:56.889 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" sending "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:25:56.890 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" received "SETTINGS" frame for stream ID 0 with length 24 and flags "NONE".
2023-10-13 14:25:56.892 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" sending "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:25:56.893 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" received "WINDOW_UPDATE" frame for stream ID 0 with length 4 and flags 0x0.
2023-10-13 14:25:56.894 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" received "HEADERS" frame for stream ID 1 with length 443 and flags "END_STREAM, END_HEADERS, PRIORITY".
2023-10-13 14:25:56.904 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" received "SETTINGS" frame for stream ID 0 with length 0 and flags "ACK".
2023-10-13 14:25:56.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63245/ - -
2023-10-13 14:25:56.927 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-13 14:25:56.927 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:25:57.024 +03:00 [DBG] No candidates found for the request path '/'
2023-10-13 14:25:57.024 +03:00 [DBG] Request did not match any endpoints
2023-10-13 14:25:57.026 +03:00 [INF] HTTP GET / responded 404 in 96.1989 ms
2023-10-13 14:25:57.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63245/ - - - 404 0 - 103.4573ms
2023-10-13 14:25:57.028 +03:00 [VRB] Connection id "0HMUBRSLJL8TU" sending "HEADERS" frame for stream ID 1 with length 45 and flags "END_STREAM, END_HEADERS".
2023-10-13 14:26:20.075 +03:00 [DBG] Connection id "0HMUBRSLJL8TV" accepted.
2023-10-13 14:26:20.076 +03:00 [DBG] Connection id "0HMUBRSLJL8TV" started.
2023-10-13 14:26:20.091 +03:00 [DBG] Connection 0HMUBRSLJL8TV established using the following protocol: "Tls13"
2023-10-13 14:26:20.103 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:63245/api/orders application/json 213
2023-10-13 14:26:20.103 +03:00 [VRB] All hosts are allowed.
2023-10-13 14:26:20.109 +03:00 [DBG] 1 candidate(s) found for the request path '/api/orders'
2023-10-13 14:26:20.109 +03:00 [DBG] Request matched endpoint 'HTTP: POST api/orders'
2023-10-13 14:26:20.126 +03:00 [INF] Executing endpoint 'HTTP: POST api/orders'
2023-10-13 14:26:20.196 +03:00 [DBG] Connection id "0HMUBRSLJL8TV", Request id "0HMUBRSLJL8TV:00000001": started reading request body.
2023-10-13 14:26:20.198 +03:00 [DBG] Connection id "0HMUBRSLJL8TV", Request id "0HMUBRSLJL8TV:00000001": done reading request body.
2023-10-13 14:27:13.923 +03:00 [INF] Executed endpoint 'HTTP: POST api/orders'
2023-10-13 14:27:13.924 +03:00 [ERR] HTTP POST /api/orders responded 500 in 53820.5897 ms
MongoDB.Driver.MongoAuthenticationException: Unable to authenticate using sasl protocol mechanism SCRAM-SHA-1.
 ---> MongoDB.Driver.MongoCommandException: Command saslStart failed: Authentication failed..
   at MongoDB.Driver.Core.WireProtocol.CommandUsingQueryMessageWireProtocol`1.ProcessReply(ConnectionId connectionId, ReplyMessage`1 reply)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingQueryMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.SaslAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MongoDB.Driver.Core.Authentication.SaslAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.DefaultAuthenticator.AuthenticateAsync(IConnection connection, ConnectionDescription description, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Authentication.AuthenticationHelper.AuthenticateAsync(IConnection connection, ConnectionDescription description, IReadOnlyList`1 authenticators, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.ConnectionInitializer.AuthenticateAsync(IConnection connection, ConnectionInitializerContext connectionInitializerContext, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.OpenAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.ConnectionCreator.CreateOpenedInternalAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.ConnectionCreator.CreateOpenedOrReuseAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.AcquireConnectionHelper.AcquireConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.AcquireConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.GetChannelAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteContext.InitializeAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteContext.CreateAsync(IWriteBinding binding, Boolean retryRequested, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at MongoDataServices.DataCollectionService`1.CreateAsync(TData newTData) in C:\My\BasicShare\MongoDataServices\DataCollectionService.cs:line 38
   at Infrastructure.Services.AggregateStorage.SaveEvents(Guid aggregateId, IEnumerable`1 events, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateStorage.cs:line 54
   at Infrastructure.Services.AggregateRepository`1.Save(AggregateRoot aggregate, Int32 expectedVersion) in C:\My\BasicShare\Services\AggregateRepository.cs:line 23
   at Mod.Order.Services.OrderWriteService.CreateOrder(OrderModel order) in C:\My\BasicShare\Mod.Order.Services\OrderWriteService.cs:line 37
   at Mod.Order.Base.Handlers.CreateOrderCommandHandler.Handle(CreateOrderCommand request, CancellationToken cancellationToken) in C:\My\BasicShare\Mod.Order.Base\Handlers\CreateOrderCommandHandler.cs:line 30
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfT>g__ExecuteAwaited|112_0[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass90_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
