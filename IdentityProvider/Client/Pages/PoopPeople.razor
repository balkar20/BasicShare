@page "/PoopPeople"

<h3>PoopPeople</h3>
<InputFile OnChange="@LoadPhoto" multiple />

<MudDialogProvider
    FullWidth="true"
    MaxWidth="MaxWidth.ExtraSmall"
    CloseButton="true"
    DisableBackdropClick="true"
    NoHeader="true"
    Position="DialogPosition.Center"
    CloseOnEscapeKey="true"
/>

@if (PooperlList == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <h3>Pooper Grid</h3>
    <MudDialog>
        <DialogContent>
            Dialog Content
        </DialogContent>
        <DialogActions>
            @* <MudButton OnClick="Cancel">Cancel</MudButton> *@
            @* <MudButton Color="Color.Primary" OnClick="Submit">Ok</MudButton> *@
        </DialogActions>
    </MudDialog>

    <MudGrid>
        @foreach (var pooper in PooperlList)
        {
            <MudItem Style="width: 70vh;">
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderAvatar>
                            <MudAvatar Image="poop.svg.png"  Color="Color.Secondary">I</MudAvatar>
                        </CardHeaderAvatar>
                        <CardHeaderContent>
                            <MudText Typo="Typo.body1">@pooper.PooperAlias</MudText>
                            <MudText Typo="Typo.body2">@pooper.AmountOfPoops</MudText>
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudIconButton @onclick="OpenDialog" Icon="@Icons.Material.Filled.Settings" Color="Color.Default" />
                        </CardHeaderActions>
                    </MudCardHeader>H
                    <MudCardMedia Image="poop.svg.png" />
                    <MudCardContent>
                        <MudText Typo="Typo.body2">I am pooper! poo poo poo !!!!!!!!!</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudIconButton Icon="@Icons.Material.Filled.Favorite" Color="Color.Default" />
                        <MudIconButton Icon="@Icons.Material.Filled.Share" Color="Color.Default" />
                    </MudCardActions>
                </MudCard>
                @* <MudPaper Height="70vh" Elevation="3"> *@
                @*     <MudText Typo="Typo.h6">@pooper.Id</MudText> *@
                @*     <MudText Typo="Typo.h6">@pooper.PooperAlias</MudText> *@
                @*     <MudText Typo="Typo.h6">@pooper.AmountOfPoops</MudText> *@
                @* </MudPaper> *@
            </MudItem>
        }
    </MudGrid>
    
}
@code{

    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    [Parameter] public string ContentText { get; set; }

    [Parameter] public string ButtonText { get; set; }

    [Parameter] public Color Color { get; set; }

    void Submit() => MudDialog.Close(DialogResult.Ok(true));
    void Cancel() => MudDialog.Cancel();

}